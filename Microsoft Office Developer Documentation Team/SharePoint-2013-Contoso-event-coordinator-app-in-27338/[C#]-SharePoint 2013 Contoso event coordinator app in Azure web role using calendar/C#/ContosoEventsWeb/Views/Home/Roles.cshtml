<link href="../content/jquery-ui-1.10.3.custom.min.css" rel="stylesheet" />
<script src="../Scripts/jquery-1.9.1.js"></script>
<script src="../Scripts/jquery-ui-1.10.3.custom.js"></script>
<script src="//jqueryui.com/resources/demos/external/jquery.mousewheel.js"></script>
<script src="//jqueryui.com/resources/demos/external/globalize.js"></script>

<style>
    .column {
        float: left;
        padding-bottom: 20px;
        font-size: small;
    }

    .ui-sortable-placeholder {
        border: 1px dotted black;
        visibility: visible !important;
        height: 50px !important;
    }

        .ui-sortable-placeholder * {
            visibility: hidden;
        }
    #coordinatorList, #memberList {
        list-style-type: none;
        margin: 0;
        padding: 0 0 2.5em;
        float: left;
        margin-right: 10px;
        font-size: small;
        cursor: move;
    }

        #coordinatorList li, #memberList li {
            margin: 0 5px 5px 5px;
            padding: 5px;
            font-size: 1.2em;
            width: 400px;
            font-size: small;
            cursor: move;
        }

</style>
<script>
    $(function () {
        $(".column").sortable({
            connectWith: ".column"
        });
        $(".column").disableSelection();
    });
    $(function () {
        $("#coordinatorList, #memberList").sortable({
            connectWith: ".connectedSortable",
            items: "li:not(.ui-state-disabled)"
        }).disableSelection();
    });
    $(function () {
        $(".column").sortable({
            connectWith: ".column"
        });
        $(".column").disableSelection();
    });
    $(function () {
        $('#SaveRoles').click(function () {
            var idsInOrder = [];
            idsInOrder = $("#coordinatorList").sortable("toArray");
            $('#SaveRoles').attr("href", $('#SaveRoles').attr("href").replace("P8020Array", idsInOrder));
            return (true);
        });
    });
</script>
<div class="clearfix">&nbsp;</div>
<div class="form-inline">
    <div class="clearfix">&nbsp;</div>
    <label class="list-group-item-heading">Coordination Team</label>
    <div class="form-inline" style="background-color:#ffffff;">
            <div>Drag & drop to add/remove users</div>
            <div>
                <div style="float: left; min-height: 200px; border: 1px dashed #DADADA;">
                    <ul id="coordinatorList" class="connectedSortable">
                        <li class="ui-state-disabled" style="color:#30273A">Event Coordinators:</li>
                        @foreach (ContosoEventsWeb.Models.EventRole coordinator in ViewBag.Coordinators)
                        {
                            <li class="ui-state-default" id="@coordinator.MemberName">@coordinator.MemberName</li>
                        }
                    </ul>
                </div>
                <div style="float:left;margin-left:10px;min-height:200px;border:1px dashed #DADADA;">
                    <ul id="memberList" class="connectedSortable">
                        <li class="ui-state-disabled" style="color:#30273A">SharePoint Site Members:</li>
                        @foreach (string member in ViewBag.SiteMembers)
                        {
                            <li class="ui-state-highlight" id="@member">@member</li>
                        }
                    </ul>
                </div>
                </div>
    </div>
    <div class="clearfix" style="margin-bottom:20px;">&nbsp;</div>
    @Html.ActionLink("Save", "SaveRoles", "Home", new { EventID = ViewBag.EventID, Items = "P8020Array" }, new { id = "SaveRoles", @class = "ActionLinkButton", @style = "width:150px;float:left;" })
    @Html.ActionLink("Back to Events", "Events", "Home", null, new { @class = "ActionLinkButton", @style = "width:150px;float:left;" })
</div>